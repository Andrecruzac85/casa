<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casa</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
            background: #000;
        }
        .video-bg {
            position: fixed;
            inset: 0;
            width: 100vw;
            height: 100vh;
            object-fit: cover;
        }
        .control {
            position: fixed;
            right: 1rem;
            bottom: 1rem;
            z-index: 10;
            background: rgba(0,0,0,.55);
            color: #fff;
            border: none;
            padding: .6rem 1rem;
            border-radius: 999px;
            font: 600 14px system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
            cursor: pointer;
            backdrop-filter: blur(4px);
        }
        .control:focus { outline: 2px solid #fff; outline-offset: 2px; }
    </style>
</head>
<body>
    <video
        id="bgVideo"
        class="video-bg"
        src="./assets/video1.mp4"
        autoplay
        muted
        loop
        playsinline
        preload="auto"
    ></video>

    <audio
        id="bgMusic"
        src="./assets/msc.mp3"
        autoplay
        muted
        loop
        preload="auto"
    ></audio>

    <button id="toggleMute" class="control" aria-pressed="true" title="Ativar ou silenciar o Ã¡udio">Ativar som</button>

    <script>
        const v = document.getElementById('bgVideo');
        const music = document.getElementById('bgMusic');
        const btn = document.getElementById('toggleMute');

        function updateLabel() {
            btn.textContent = v.muted ? 'Ativar som' : 'Silenciar';
            btn.setAttribute('aria-pressed', String(!v.muted));
        }

        btn.addEventListener('click', () => {
            const isMuted = v.muted;
            v.muted = !isMuted;
            music.muted = !isMuted;

            v.play().catch(() => {});
            music.play().catch(() => {});

            updateLabel();
        });

        document.addEventListener('visibilitychange', () => {
            if (!document.hidden) {
                v.play().catch(() => {});
                music.play().catch(() => {});
            }
        });

        updateLabel();
    </script>
</body>
</html>
